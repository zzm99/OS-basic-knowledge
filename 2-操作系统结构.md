# 操作系统结构

1. 操作系统的服务：用户界面、程序执行、IO操作、文件系统操作、通信、错误检测、资源分配、统计、保护和安全。
2. 与操作系统交互的第一种方法：命令解释程序的主要作用是获取并执行用户指定的下一条命令。命令解释程序本身包含代码以执行命令或者由系统程序实现这些命令。
3. 第二种方法：用户图形界面GUI。
4. 像操作系统传递参数的三种方法：通过寄存器来传递参数、通过存在内存的块和表，并将块的地址通过寄存器来传递参数、通过程序放在或压入堆栈中，通过操作系统弹出来传递参数，
5. 系统调用分为五大类：进程控制、文件控制、设备控制、信息维护、通信。
6. 策略决定做什么，机制决定如何做。策略和机制的区分对于灵活性来说很重要。
7. 设计操作系统，通常方法是将这一任务分成小模块而不只是一个单块系统，每个这样的模块都应该是明确定义的系统部分，且具有明确定义的输入、输出和功能。
8. 在MS-DOS系统中，并没有很好地区分接口和功能层次。这种任意性使MS-DOS易受错误程序的伤害，从而导致用户程序出错时整个系统的崩溃。
9. 原始的UNIX系统由内核和系统程序两部分组成，物理硬件之上和系统调用接口之下的所有部分作为内核。内核通过系统调用以提供文件系统、CPU调度、内存管理和其他操作系统功能。这种单一式结构使得UNIX难以增强。
10. 分层法，操作系统分成若干层，最底层为硬件，最高层为用户接口。
11. 分层法的优点在于构造和调试的简单化。每层只能利用较低层的功能和服务，简化了调试和系统验证。每层都是利用较低层所提供的功能来实现的。每层为叫高层隐藏了一定的数据结构、操作、硬件的存在。
12. 分层发的困难设计对层的详细定义，因为一层只能使用其下的较低层。与其他方法相比其效率较差，每层都为系统调用增加了额外开销，最终结果是系统调用比在非分层系统上要执行更长的时间。
13. 现在使用数量更少而功能更多的分层设计，提供了绝大多数模块化代码的优点，同时避免了层定义和交互的问题。
14. 微内核技术来模块化内核，将所有非基本部分从内核中移走，并将它们实现为系统程序或用户程序。微内核通常包括最小的进程和内存管理以及通信功能。
15. 微内核的主要功能是使客户程序和运行在用户空间的各种服务之间进行通信。
16. 微内核的好处之一在于便于扩充操作系统。由于绝大多数服务是作为用户而不是作为内核进程来运行的，因此微内核也提供了更好的安全性和可靠性。
17. 微内核必须忍受由于系统功能总开销的增加而导致系统性能的下降。Windows NT4.0通过将有些层从用户空间移到内核空间，以及更紧密地集成这些层来提高性能，这更像是单一内核而不是微内核。
18. 最新的操作系统设计方法是面向对象编程技术来生成模块化的内核。允许内核提供核心服务，也能动态地实现特定的功能。比分层系统更为灵活，任一模块都能调用其他任何模块，比微内核更高效，因为模块不需要调用信息传递来通信。
19. 虚拟机本身只能运行在用户模式，有虚拟用户模式和虚拟内核模式，这两种模式都运行在物理用户模式下。虚拟机称为解决系统兼容性的修行方法。
20. 具有引导分区的磁盘被称为引导磁盘或系统磁盘。